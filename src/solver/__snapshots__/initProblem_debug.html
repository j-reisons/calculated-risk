<html><head><title>Debug Page</title><script src="https://cdn.plot.ly/plotly-2.25.2.min.js"></script></head><body><h1> Strategies </h1><div id="strategies" style="width:1100px;height:500px"></div><h1> Utilities </h1><div id="utilities" style="width:1100px;height:500px"></div><script>
      problem = {"strategyCDFs":[null,null,null,null,null],"wealthBoundaries":[0,10000,20000,30000,40000,50000,60000,70000,80000,90000,100000,110000,120000,130000,140000,150000,160000,170000,180000,190000,200000,210000,220000,230000,240000,250000,260000,270000,280000,290000,300000,310000,320000,330000,340000,350000,360000,370000,380000,390000,400000],"periods":10,"cashflows":[40000,40000,40000,40000,40000,-40000,-40000,-40000,-40000,-40000]};
      solution = {"optimalStrategies":[[4,4,4,4,4,-1,-1,-1,-1,-1],[4,4,4,4,4,-1,-1,-1,-1,4],[4,4,4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4,4,1],[4,4,4,4,4,4,4,4,4,1],[4,3,4,4,4,4,4,4,4,2],[3,3,4,4,4,4,4,4,4,2],[3,3,3,4,4,4,4,4,0,2],[2,3,2,4,4,4,4,4,1,2],[2,2,2,4,4,4,4,4,1,4],[2,2,2,3,4,4,4,4,1,4],[1,2,2,2,4,4,4,1,2,4],[1,2,2,1,4,4,4,1,3,4],[1,1,2,1,4,4,4,1,3,0],[1,1,2,1,3,4,2,1,3,1],[1,1,1,2,1,4,1,2,3,1],[0,1,1,2,1,4,1,2,2,1],[0,1,1,2,1,4,1,2,0,2],[0,1,1,1,1,2,1,2,1,2],[2,1,1,1,1,1,1,2,1,2],[3,0,1,1,1,1,2,1,1,2],[4,0,1,1,1,1,2,0,1,3],[4,0,1,1,1,1,2,1,2,3],[4,2,0,1,1,1,1,1,2,3],[4,3,0,1,1,1,1,1,2,3],[4,4,0,1,1,1,1,1,2,3],[4,4,0,1,1,1,1,1,2,3],[4,4,2,0,1,1,1,2,2,2],[4,4,3,0,1,1,1,2,2,2],[4,4,4,0,1,1,1,2,2,2],[4,4,4,0,0,1,1,2,2,2],[4,4,4,1,0,1,1,1,1,1],[4,4,4,4,0,1,1,1,1,1],[4,4,4,4,0,1,1,1,1,1],[4,4,4,4,0,1,1,1,1,1],[4,4,4,4,4,1,1,1,1,1],[4,4,4,4,4,1,1,1,1,1],[4,4,4,4,4,0,0,0,0,0],[4,4,4,4,4,0,0,0,0,0]],"utilities":[[9.60953378688189,5.860465133374455,1.670789344420465,0.030159333255610436,6.772494716838345e-12,0,0,0,0,0,8.517193191416238],[10.273844054407984,6.940813240451185,2.6100094387416433,0.145400999711048,0.0000011907393013632063,0,0,0,0,2.8367951958872776e-15,9.615805480084347],[10.816338935054866,7.9535012789764625,3.6848084433535253,0.4424306983780785,0.0001590049543244285,7.579103338720564e-47,1.0252687424025114e-35,1.3869397832027417e-24,1.876192926473983e-13,0.02538033652109791,10.126631103850338],[11.246511190707144,8.840679878265622,4.778353609412477,0.9511564976985956,0.0036945903346096705,6.755795964792059e-19,1.044777736497218e-15,2.0389565598937446e-11,0.000014156585623202643,2.7682016763543005,10.46310334047155],[11.600953373375209,9.609533193408751,5.860464164366204,1.670788498117541,0.03015923430419187,6.716363475791082e-12,1.8670009149848096e-9,0.0000031089496792209853,0.018517322430191822,8.517574978466584,10.714417768752456],[11.898280114357481,10.250527068503711,6.894108499668654,2.5566851639931905,0.12942745549552165,5.5195662044209487e-8,0.000005055183084737043,0.001328927270025412,0.5004821057997639,9.641105174186103,10.915088464214607],[12.149652990933077,10.774651089860452,7.855582765632216,3.5505461750559886,0.3684982022531095,0.000014571726154480076,0.0005721724964938599,0.04149533127738154,2.352633625977253,10.161835994728271,11.082142548877775],[12.363005684508932,11.1999271280627,8.728406192367459,4.594777641117529,0.7981178516269765,0.0005719920190117873,0.011685168167351934,0.3227675257665708,4.984255287337638,10.500174945225048,11.225243392518447],[12.54339411514143,11.552932090758668,9.496328584943704,5.642595153204062,1.4301023312889685,0.00715092057242841,0.08700335175680582,1.1612331562767477,8.517574978466584,10.750627387221435,11.350406535472453],[12.694789175560496,11.851466736321793,10.168525506845889,6.6630946057405644,2.237195920917141,0.043129049242227414,0.344837184564706,2.625464846607705,9.692640101993504,10.950159568582595,11.461632170582678],[12.820279430550086,12.10605636505697,10.7058965607137,7.625837973262489,3.170976582718767,0.16004193350562576,0.9083632370721332,4.412156949844968,10.215302394127017,11.17961178538588,12.56171562913966],[12.922127287085448,12.325555667304602,11.133115671426538,8.501606407835895,4.183087156344797,0.4246920055229868,1.8211347643763838,6.13108039468433,10.54763952714035,11.449758866465013,12.652687407345388],[13.004346439962008,12.51177380788001,11.487686270290123,9.33025681745052,5.229288884719864,0.8888419234708848,3.018030835379974,8.521108318727421,10.808504541378596,11.739109819907153,12.736069016284437],[13.069807286211313,12.66761900145288,11.790729910024357,10.072732432194961,6.2627933529725714,1.5676424292552225,4.357678180393223,9.731061033270366,11.084722489309065,12.014438297882334,12.813030057420567],[13.12110946096767,12.797789781296874,12.052320141523062,10.627937592184908,7.237687924008263,2.4371985915780896,5.688438708803538,10.276060551107932,11.375830718249418,12.56171562913966,12.884489021402711],[13.160870029713442,12.904301327268167,12.277356738405443,11.05063275362644,8.158855848352,3.4434737880630784,6.984353695812673,10.61627195312034,11.666005019343746,12.667057632437874,12.951180395901384],[13.194166796322975,12.989831515578992,12.470522100574481,11.404452502069486,9.133643021846137,4.516660692572423,8.672286637310911,10.928803311258276,11.942268680837472,12.759488207051906,13.013700752882718],[13.214955869169549,13.057762015800758,12.634942120391301,11.71433558911115,9.955533952847427,5.588003397486728,9.75817121287931,11.23548619228905,12.211174048792731,12.83639245839732,13.072541252905651],[13.251170612813903,13.11119601590984,12.770489234842062,11.982451083247389,10.531254812956705,6.603367146778842,10.342191867198876,11.530280281331525,12.56171562913966,12.91098369039967,13.128111104060462],[13.301134707934708,13.15332755940544,12.881286164943894,12.21788380704199,10.957740971049526,7.668614368776713,10.724581178802964,11.815233850192525,12.68626574119354,12.97963696913919,13.180754837545884],[8.293892234506067,13.183783832059591,12.971021729011639,12.422538174834076,11.309299399630868,8.909847388706204,11.049584456097103,12.080715567636519,12.785623034416146,13.042551464959246,13.230765258120545],[7.05612469200378,13.214955869169549,13.04233042475166,12.594133306424654,11.619556541176118,9.82994186053786,11.378662653749334,12.337087309969125,12.865911510256826,13.10135199983908,13.2783933071098],[6.184117444437614,13.251170612813903,13.098643235189503,12.735891917553671,11.89852311459358,10.426789134837433,11.675277731870326,12.56171562913966,12.938847986570195,13.156912355914445,13.323855681186558],[5.419199380219075,13.301134707934708,13.1445046528914,12.852350175244357,12.146860968162118,10.847863811745112,11.942048119620386,12.71012010839335,13.009679882125821,13.210580701070032,13.367340793126296],[4.737038529105044,7.788920026378275,13.172614763338963,12.947336277744991,12.36253433030866,11.196161557629088,12.18952212625902,12.814465304907902,13.07405654979562,13.26111335077591,13.409013489526863],[4.131550263379772,6.609743188722203,13.214955869169549,13.023950567958115,12.544415888387984,11.510088112675076,12.416607874703638,12.898196307556807,13.133649868982642,13.308967604384303,13.449018824140563],[3.5951687593977595,5.77074313685728,13.251170612813903,13.08628964270841,12.694310095782024,11.79699623101175,12.599769466356545,12.97245156494837,13.189447111201703,13.35432923120247,13.487485104968359],[3.1204116728353015,5.043436854039382,13.301134707934708,13.124430974351819,12.816897223187464,12.057247284629302,12.739168628943125,13.040729713502692,13.241997692761204,13.39677707090183,13.524526376648708],[2.7006048283873008,4.385291232023121,7.164354918672724,13.172614763338963,12.918126001538079,12.288287129868747,12.845956535918448,13.106181167268714,13.291653219507328,13.436804459511261,13.560244459250788],[2.3300552105876338,3.795180138030758,5.9727129841953195,13.214955869169549,13.002944103185335,12.485629534057733,12.932764482882463,13.166298041675416,13.338659144298978,13.476673727148604,13.594730635321957],[2.003926494642403,3.270340697440611,5.15286541105004,13.251170612813903,13.067065641599578,12.647457720472236,13.008168776444156,13.221735666638033,13.38306146749417,13.514807814499953,13.628067055589549],[1.718008720622357,2.807040076429452,4.463975067888358,13.301134707934708,13.112791643586174,12.777297121692488,13.076472858110868,13.272209348340207,13.424054791077339,13.550310062770167,13.66032791780777],[1.4684998805746066,2.4009451583603245,3.8454303060465986,6.178575369721374,13.172614763338963,12.882246383554078,13.139349632921693,13.318694337812266,13.460751091207989,13.581184644688884,13.691580461311874],[1.2518521910378095,2.0473539695599996,3.2969942428600816,5.064086219832205,13.214955869169549,12.969714108337929,13.197416980937819,13.364451763224375,13.499383360239678,13.615593820180662,13.721885810807203],[1.0646911542040616,1.7413731241804224,2.8158717389210635,4.3849455490209674,13.251170612813903,13.045392583471324,13.251170612813903,13.407458827132128,13.536174500144558,13.648855918097322,13.751299696013497],[0.9037922313429403,1.4780732091283144,2.397573050103102,3.776836998451997,13.301134707934708,13.112791643586174,13.301134707934708,13.448062599762805,13.57134597731464,13.680972100034436,13.779873068457553],[0.766092806871098,1.2526266028851631,2.036616780978707,3.2393192774951243,4.854771116834382,13.172614763338963,13.346556623728484,13.485389496454232,13.603958737417457,13.710796089629968,13.80765263256463],[0.6487192795208165,1.0604226344420542,1.7270737408221344,2.7691888926584385,4.229391722646342,13.214955869169549,13.376727134775017,13.508541909903155,13.622976656712217,13.727424882546586,13.834681304952548],[0.5490150103470595,0.8971549505525436,1.4629653356494496,2.3615087367606415,3.6679859252396074,13.251170612813903,13.407458827132128,13.536174500144558,13.648855918097322,13.751299696013497,13.86099861326992],[0.4645610442011151,0.7588794162484434,1.2385372829371728,2.0104136199554166,3.1697116934606013,13.301134707934708,13.448062599762805,13.57134597731464,13.680972100034436,13.779873068457553,13.886641043883259]]};
  
      wealthBoundaries = problem.wealthBoundaries;
      wealthValues = [...wealthBoundaries.keys()].slice(0, -1).map(i => (wealthBoundaries[i] + wealthBoundaries[i + 1]) / 2);
      timeRange = range(0.5, problem.periods + 0.5);
  
      Plotly.newPlot(document.getElementById('strategies'),[{
              x: timeRange,
              y: wealthValues,
              z: solution.optimalStrategies,
              type: 'heatmap',
              showscale: false,
              xgap: 0.5,
              ygap: 0.5,
            }],
               {margin: {t: 0 } } 
              );
  
      timeRange_utilities = range(0.5, problem.periods + 1.5);
      Plotly.newPlot(document.getElementById('utilities'),[{
               x: timeRange_utilities,
               y: wealthValues,
               z: solution.utilities,
               type: 'heatmap',
               showscale: false,
               xgap: 0.5,
               ygap: 0.5,
             }],
                {margin: {t: 0 } } 
               );            
  
      function range (start, end) {
        return Array.from({ length: end - start + 1 }, (_, index) => start + index);
      }
    </script></body></html>